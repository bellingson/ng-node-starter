<div>
    <div class="pull-left">
        <strong>Last Update: </strong> {{lastUpdate | date: 'M-d-yyyy h:mm a' }}
    </div>
    <div class="pull-right">
        <button class="btn btn-primary" (click)="refresh()">Refresh</button>
    </div>
</div>



<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>Summary</th>
        <th>Days Until</th>
        <th>Check In</th>
        <th>Check Out</th>
        <th>Days</th>
        <th>
            Booking Thank You
        </th>
        <th>
            Before Check In
        </th>
        <th>
            After Check Out
        </th>
        <th>Total ({{total | currency: 'USD':true: '1.0'}})</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let g of guests" (click)="selectGuest(g)" [class]="statusCss(g)">
        <td>
            {{g.summary}}
        </td>
        <td>{{g.daysAway}}</td>
        <td>{{g.start | date }}</td>
        <td>{{g.end | date }}</td>
        <td>{{g.days}}</td>
        <td>
            <span *ngIf="g.bookingThankyou" class="glyphicon glyphicon-ok"></span>
            <span *ngIf="!g.bookingThankyou" class="glyphicon glyphicon-remove"></span>
        </td>
        <td>
            <span *ngIf="g.weekBeforeTrip" class="glyphicon glyphicon-ok"></span>
            <span *ngIf="!g.weekBeforeTrip" class="glyphicon glyphicon-remove"></span>
        </td>
        <td>
            <span *ngIf="g.afterTrip" class="glyphicon glyphicon-ok"></span>
            <span *ngIf="!g.afterTrip" class="glyphicon glyphicon-remove"></span>
        </td>
        <td>{{g.total | currency: 'USD':true: '1.2' }}</td>
    </tr>
    </tbody>
</table>


<app-guest-update [guest]="selectedGuest" (update)="updateGuest($event)"></app-guest-update>
